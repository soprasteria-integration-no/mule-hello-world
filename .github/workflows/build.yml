name: Build and Deploy

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
    
jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: ${{ inputs.env }}
    steps:  
    - name: Set variables
      run: |
        VAR1="Hello"
        VAR2="World"
        VAR_NAME="VAR1_${VAR2}"
        echo "${VAR_NAME}=${VAR1} ${VAR2}" >> $GITHUB_ENV
    - name: Use variables
      run: |
        VAR_NAME="VAR1_${{ env.VAR2 }}"
        VAR_VALUE=${!VAR_NAME}
        echo "Value of ${VAR_NAME} is ${VAR_VALUE}"
